<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Scaling data</title>
		<script type="text/javascript" src="d3.v2.js"></script>
		<style type="text/css">

			rect {
				fill: seagreen;
				stroke: none;
			}

		</style>
	</head>
	<body>	
		<script type="text/javascript">
			
			//Data
			var dataset = [90, 45, 29, 88, 72, 63, 51, 35, 26, 20];
			
			//Set size variables
			var width = 500;
			var height = 200;
			//var barHeight = 20;	//No longer needed, thanks to ordinal yScale
			
			//Set up scales
			var xScale = d3.scale.linear()
								 .domain([0, d3.max(dataset)])
								 .range([0, width]);

			var yScale = d3.scale.ordinal()
								 .domain(d3.range(dataset.length))
								 .rangeRoundBands([0, height], 0.05);

			//Select the <body> and create a new SVG element
			//with the width and height values set above.
			var svg = d3.select("body").append("svg")
						.attr("width", width)
						.attr("height", height);

			//Create a series of 'rect' elements within the SVG,
			//with each 'rect' referencing a corresponding data values
			svg.selectAll("rect")
				.data(dataset)
				.enter()
				.append("rect")
				.attr("x", 0)
				.attr("y", function(d, i) {
					return yScale(i);
				})
				.attr("width", function(d) {
					return xScale(d);
				})
				.attr("height", yScale.rangeBand());

		</script>
	</body>
</html>